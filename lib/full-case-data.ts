/**
 * Full Case Data - 完整案例数据
 * 基于案例.md的完整研究过程
 */

export interface PromptItem {
  text: string;
  subItems?: string[];
}

export interface ContentSection {
  type: 'text' | 'tool' | 'prompt' | 'iteration' | 'dialogue' | 'finding' | 'problem';
  title?: string;
  content?: string;
  prompts?: PromptItem[];
  subItems?: string[];
  highlight?: boolean;
}

export interface SubSection {
  id: string;
  title: string;
  content: ContentSection[];
}

export interface CasePhase {
  id: string;
  title: string;
  icon: string;
  description?: string;
  subSections?: SubSection[];
  content?: ContentSection[];
}

export interface FullCaseData {
  id: string;
  title: string;
  subtitle: string;
  description: string;
  subject: string;
  grade: string;
  author: string;
  likes: number;
  phases: CasePhase[];
}

export const FULL_CASE_DATA: FullCaseData = {
  id: 'featured-full-001',
  title: 'GenAI驱动下小学数学"认知脚手架"构建与迭代验证',
  subtitle: '基于《圆的认识》的生成式模拟教学研究',
  description: '示例：我们的模拟教学研究故事 - 一个完整的研究过程展示',
  subject: '数学',
  grade: '小学高年级',
  author: '研究团队',
  likes: 256,
  phases: [
    {
      id: 'phase-1',
      title: '一、确定主题',
      icon: 'lightbulb',
      content: [
        {
          type: 'text',
          title: '研究主题',
          content: 'GenAI驱动下小学数学"认知脚手架"构建与迭代验证\n——基于《圆的认识》的生成式模拟教学研究',
          highlight: true
        }
      ]
    },
    {
      id: 'phase-2',
      title: '二、研究过程',
      icon: 'search',
      subSections: [
        {
          id: 'phase-2-1',
          title: '1、文献综述',
          content: [
            {
              type: 'tool',
              title: '秘塔——认知脚手架的理论源流与发展脉络',
              content: '提示词：',
              subItems: [
                '以"认知脚手架"为关键词，写一下文献综述，梳理与其相关的如理论基础、发展历史、主要策略等',
                '以"认知脚手架"或"教学支架"为关键词，写一篇关于认知脚手架的理论源流与发展脉络的文献综述'
              ]
            },
            {
              type: 'tool',
              title: '秘塔——生成式AI在教育模拟中的应用现状',
              content: '提示词：',
              subItems: [
                '以"生成式AI"或"GenAI"和"教育"为关键词，写一篇生成式AI在教育模拟中的应用现状的文献综述',
                '以"生成式AI"或"GenAI"和"数学教育"为关键词，写一篇生成式AI在数学教育模拟中的应用现状的文献综述'
              ]
            },
            {
              type: 'tool',
              title: 'Deepseek——研究空白确认：本研究的立足点与创新空间',
              content: '提示词：结合认知脚手架的理论源流与发展脉络文献综述与生成式AI在教育模拟中的应用现状文献综述写一下关于GenAI驱动下小学数学"认知脚手架"构建与迭代验证——基于《圆的认识》的生成式模拟教学研究的可能立足点与创新空间'
            }
          ]
        },
        {
          id: 'phase-2-2',
          title: '2、模拟实施与迭代过程',
          content: [
            {
              type: 'tool',
              title: 'Deepseek——教学设计案例分析',
              content: '提示词：'
            },
            {
              type: 'prompt',
              content: '（1）我正在准备做一个小学数学《圆的认识》这一节的有关支架式教学的教学设计，我搜集了很多期刊论文，里面有关于这一课的教学案例和理论分析。因为担心这些期刊太多，最后上传给ai生成教学设计的结果可能很难体现这些设计中的亮点或者思想，所以我希望可以把这些期刊内容先统一整理，提炼出里面内容的精髓，帮助我最后的成果融合。所以请你想一想我应该输出什么指令，让AI帮我归纳整理这些期刊里面的内容。'
            },
            {
              type: 'prompt',
              title: '（2）问题链追问',
              subItems: [
                '问1：请你扮演一位小学数学教育专家，特别擅长教材研读和教学模式提炼。你的任务是系统分析我提供的关于《圆的认识》的教学案例，并按照一个结构化的框架，提炼出其中的教学精髓、创新点和可复用的教学策略。',
                '问2：我将依次给你提供《圆的认识》的教学案例，请你依照以下结构帮我梳理：\n第1，核心概念的教学突破点\n"请找出各案例中，名师们是如何引导学生理解\'圆心\'、\'半径\'、\'直径\'这三个核心概念的。特别关注他们使用了哪些独特的比喻、活动或提问方式。"\n第2，教学环节的亮点设计\n"请按\'情境导入-探究活动-巩固练习-总结拓展\'的教学流程，提取每个环节中最有创意的设计。例如，在情境导入部分，哪些案例的设计特别能激发学生兴趣？"\n第3，数学思想方法的渗透\n"请分析这些案例中分别渗透了哪些数学思想方法（如：归纳思想、极限思想、对称思想等），并找出教师是通过什么具体活动来实现这种渗透的。"\n第4，学习难点的破解策略\n"请总结学生在学习《圆的认识》时常见的困难（如：理解\'一中同长\'、理解半径直径关系），并提取案例中名师们用来突破这些难点的独特策略。"\n第5，教学语言的精妙之处\n"请特别注意收集教师使用的精妙提问语、过渡语和小结语，这些\'金句\'对教学效果至关重要。"',
                '问3-问14：依次提供第一篇到第十二篇案例进行整理',
                '问15-问17：在新对话中继续分析第十三至十五篇案例'
              ]
            },
            {
              type: 'prompt',
              title: '（4）深入追问',
              content: '问1：请你扮演一位小学数学教育专家，特别擅长教材研读和教学模式提炼。你的任务是系统分析我提供的关于《圆的认识》的教学案例。我已经将十五篇《圆的认识》教学案例片段的相关文献进行了搜集与分析，整理到了文档中，基于文档中的对所有文献的分析，现在请你：\n1. 生成一个《圆的认识》名师教学精华汇总\n2. 指出这些发现将如何直接影响我们的支架式教学设计\n3. 准备好与文献综述成果进行融合的关键连接点'
            }
          ]
        },
        {
          id: 'phase-2-3',
          title: 'Deepseek——教学设计口令',
          content: [
            {
              type: 'text',
              content: '如果我需要设计一个课时的以搭建认知脚手架形式为主的教学设计。我需要先明确这一课时的什么？如何给ai一个完整的指令呢？'
            },
            {
              type: 'iteration',
              title: '一、教学设计口令设计（初版）',
              content: '我需要让ai设计一个基于认知脚手架理论的小学数学圆的认识的教学设计。请问我可以给ai怎样的提示语。这是我构想的提示语，你觉得可行吗，有什么需要增添删改的部分？同时请基于提供的认知脚手架的资料，完善我提示词中缺少的部分，并在我的提示语基础上帮我设计能体现认知脚手架要求的提示语部分。'
            },
            {
              type: 'prompt',
              title: '提示词模板',
              content: '【角色设定】\n请你扮演一位优秀的小学数学教师，精通建构主义理论和认知脚手架理论。\n\n【背景信息】\n· 学科： 小学数学\n· 年级： 小学高年级（五、六年级）\n· 课时内容： 圆的认识\n· 课时长度： 45分钟\n\n【学生起点分析】\n· 前在知识：\n  1. 在生活中已接触过大量圆形物体（如硬币、钟表、车轮等），对"圆"有丰富的感性认识。\n  2. 已经学习了长方形、正方形、三角形等平面图形，具备了一定的图形认知和观察能力。\n  3. 可能使用过圆规，但未必掌握正确的使用方法。\n\n· 潜在难点/迷思概念：\n  1. 概念抽象： 难以从具体的"圆形物体"抽象出几何图形"圆"。\n  2. 本质理解： 难以理解"一中同长"这一圆的本质特征。\n  3. 关系混淆： 容易混淆半径与直径，或在理解"同一个圆内，所有半径相等"时，只关注肉眼可见的几条，而未能理解"所有"的含义。\n  4. 工具使用： 使用圆规画圆时，容易移动圆心、力度不均导致画不圆。\n\n【脚手架设计请求】\n请确保环节之间逻辑递进，从具体到抽象，从扶到放，充分体现脚手架的搭建、支撑与逐渐拆除的过程。'
            },
            {
              type: 'iteration',
              title: '二、第一版指令',
              content: '【角色与任务设定】\n请你扮演一位精通建构主义理论和认知脚手架理论的优秀小学数学教师，为小学高年级学生设计一节《圆的认识》的45分钟新课。\n\n核心任务：你的教学设计必须严格遵循"认知脚手架"的理论框架，即围绕概念脚手架、程序脚手架、策略脚手架、元认知脚手架四个维度，系统规划教学环节。设计应体现从具体到抽象、从扶到放的逻辑递进，并清晰展示脚手架的搭建、支撑与逐渐拆除的动态过程。\n\n【核心部分：脚手架设计请求】\n请根据以下四大脚手架的分类，参考我提供的有关认知脚手架的文件与图片内容，以及15个优秀教学设计的整理资料，设计教学环节与策略：\n1. 概念脚手架\n2. 程序脚手架\n3. 策略脚手架\n4. 元认知脚手架'
            }
          ]
        },
        {
          id: 'phase-2-4',
          title: '三水平学生画像',
          content: [
            {
              type: 'dialogue',
              title: '学生A（高水平）',
              content: '前概念：熟知生活中的圆，已直观理解"圆心定位置"、"半径定大小"。\n学习风格：善于抽象思考和提问，能主动建构知识联系。\n深刻问题：会追问本质，如"为什么圆有无数条对称轴？"'
            },
            {
              type: 'dialogue',
              title: '学生B（中等水平）',
              content: '迷思概念：可能混淆半径与直径，认为"直径就是两条半径"；或认为画得不标准的圆不是圆。\n学习支持：需要通过大量动手操作（如画圆、测量）来澄清概念，教师需提供清晰的步骤指导和对比辨析。'
            },
            {
              type: 'dialogue',
              title: '学生C（困难学生）',
              content: '具体困难：使用圆规存在物理困难，难以理解抽象的圆心、半径概念。\n情感态度：容易产生挫败感和焦虑，认为"我学不会数学"，需要鼓励和成功体验。'
            }
          ]
        },
        {
          id: 'phase-2-5',
          title: '模拟课堂生成口令迭代',
          content: [
            {
              type: 'problem',
              title: '第一版',
              content: '发现问题：生成的课堂分解严重，教师对学生回应机械，或者不回应。'
            },
            {
              type: 'problem',
              title: '第二版（教师要求详细版）＋第三版（禁止分节版）',
              content: '发现问题：整节课对话很少，师生互动内容很简洁，不能生动模拟真实课堂情境。'
            },
            {
              type: 'problem',
              title: '第四版（500+对话记录版）',
              content: '发现问题：只生成了30轮对话，AI深度思考显示由于篇幅限制无法生成500＋轮对话。'
            },
            {
              type: 'finding',
              title: '第五版（定版）',
              content: '分环节生成，确保对话自然、连续、有深度',
              highlight: true
            },
            {
              type: 'prompt',
              title: '定版口令',
              content: '【任务一：模拟教学与对话记录】\n1. 模拟场景：请基于我提供的《圆的认识》教学设计（附于后），模拟一个完整课堂。核心要求是：对话必须自然、连续、有深度，仿佛真实课堂的逐字记录。\n\n2. 核心角色：\n· 教师：按照教学设计的内容和流程进行授课。但要展现出色的教学机智。你需要：\n  1．积极倾听并接话：对学生的每一句发言都做出有教学意义的回应\n  2．利用学生生成性资源：将学生的提问和观点作为宝贵的教学契机\n  3．自然过渡：从一个教学环节到下一个环节的过渡，必须通过教师的引导性语言来完成\n\n3. 记录要求：\n· 清晰标注"教师"和"学生"的发言\n· 在学生的对话中，用括号（）标注其关键的非语言行为'
            },
            {
              type: 'finding',
              title: '转折点',
              content: '互动文本在Deepseek中的多次试验中出现了数据重复或者无法深入的状况，转向ChatGPT继续优化教学设计，以便进行二轮模拟教学互动文本数据提取。',
              highlight: true
            }
          ]
        },
        {
          id: 'phase-2-6',
          title: 'ChatGPT——教学设计优化口令',
          content: [
            {
              type: 'iteration',
              title: '第1遍（人工）',
              content: '我们已经做了一个任务，ai作为主要研究员，设计了认知脚手架为主的小学数学《圆的认识》教学设计。然后用ai模拟多智能体（老师、高水平学生、中水平学生、低水平学生），得到了一份模拟课堂的师生互动文本。请你基于这堂模拟课堂的学生反应，评估原教学设计中认知脚手架哪些是无效的，这个脚手架应该做何动态调整。'
            },
            {
              type: 'iteration',
              title: '第2遍',
              content: '请在你的优化调整基础上，生成一份调整后依旧以认知脚手架为主的教学设计，要求这份教学设计的教学目标符合《义务教育数学课程标准（2022年版）》中的核心素养要求，并使三个水平的学生均衡发展。'
            },
            {
              type: 'iteration',
              title: '第3遍',
              content: '将上述的四个教学环节按照脚手架类型、策略应用、教师活动、学生活动以及设计意图与支架分析五个方面详细展开，据此优化后形成一份更为详细、完整的教学设计。'
            },
            {
              type: 'iteration',
              title: '第4遍',
              content: '教师活动和学生活动不需要分层，据此要求再优化成一份详细的教学设计。'
            }
          ]
        },
        {
          id: 'phase-2-7',
          title: 'Deepseek——两轮互动文本对比研究口令',
          content: [
            {
              type: 'prompt',
              title: '对比分析维度',
              content: '基于上述对话记录，请你从以下维度对比分析两个教学设计下的学生学习状态：\n\n1. 认知负荷评估：\n   · 内在认知负荷：所学概念\n   · 外在认知负荷：教师的教学指令、多媒体课件是否清晰？有无导致分心的无效信息？\n   · 关联认知负荷：是否成功将新旧知识联系起来？\n\n2. 参与度评估：\n   · 行为参与：是否主动发言、提问、跟随教师指令？\n   · 情感参与：通过其语言和动作，判断其情绪是积极、消极还是焦虑。\n   · 认知参与：提出的问题是停留在表面记忆，还是涉及了深层次的推理和批判？\n\n3. 理解度评估：\n   · 区分是"表面理解"还是"本质理解"。'
            },
            {
              type: 'finding',
              title: '研究结论',
              content: '请根据以上ABC学生的分析，分析两轮教学设计脚手架整体的有效性',
              highlight: true
            }
          ]
        }
      ]
    }
  ]
};
